/*! Built with http://stenciljs.com */
const{h:t}=window.App;!function(t,e,n){var r,i="firstChild",o="scrollLeft",a="scrollTop",s="offsetLeft",c="offsetTop",u=setTimeout;function f(t){return void 0!==t}function l(t){return"object"==typeof t}function h(t){return Object.keys(t).length}function p(t,e,n){return t<e?e:t>n?n:t}function d(t,e){return parseInt(t,e||10)}function v(t){return Math.round(t)}function g(t){var e,n,r,i,o,a,s,c,u=+t[0],f=+t[1],l=+t[2];switch(a=l*(1-f),s=l*(1-(o=6*u-(i=Math.floor(6*u)))*f),c=l*(1-(1-o)*f),i=i||0,s=s||0,c=c||0,i%6){case 0:e=l,n=c,r=a;break;case 1:e=s,n=l,r=a;break;case 2:e=a,n=l,r=c;break;case 3:e=a,n=s,r=l;break;case 4:e=c,n=a,r=l;break;case 5:e=l,n=a,r=s}return[v(255*e),v(255*n),v(255*r)]}function y(t){return x(g(t))}function k(t){var e,n=+t[0],r=+t[1],i=+t[2],o=Math.max(n,r,i),a=Math.min(n,r,i),s=o-a,c=0===o?0:s/o,u=o/255;switch(o){case a:e=0;break;case n:e=r-i+s*(r<i?6:0),e/=6*s;break;case r:e=i-n+2*s,e/=6*s;break;case i:e=n-r+4*s,e/=6*s}return[e,c,u]}function x(t){var e=+t[2]|+t[1]<<8|+t[0]<<16;return(e="000000"+e.toString(16)).slice(-6)}function m(t){return k(w(t))}function w(t){return 3===t.length&&(t=t.replace(/./g,"$&$&")),[d(t[0]+t[1],16),d(t[2]+t[3],16),d(t[4]+t[5],16)]}function _(t){return[+t[0]/360,+t[1]/100,+t[2]/100]}function b(t){return[v(360*+t[0]),v(100*+t[1]),v(100*+t[2])]}(r=t.CP=function(n,r){var d=e.body,v=e.documentElement,k=this,x=t.CP,m=!1,w={},_=e.createElement("div"),b="touchstart mousedown",H="touchmove mousemove",E="touchend mouseup",S="orientationchange resize";if(!(k instanceof x))return new x(n,r);function V(t,e,n){for(var r=0,i=(t=t.split(/\s+/)).length;r<i;++r)e.addEventListener(t[r],n,!1)}function X(t,e,n){for(var r=0,i=(t=t.split(/\s+/)).length;r<i;++r)e.removeEventListener(t[r],n)}function C(t,e){var n=e.touches?e.touches[0].pageX:e.pageX,r=e.touches?e.touches[0].pageY:e.pageY,i=B(t);return{x:n-i.l,y:r-i.t}}function B(e){if(e===t)var n=t.pageXOffset||v[o],r=t.pageYOffset||v[a];else for(n=e[s],r=e[c];e=e.offsetParent;)n+=e[s],r+=e[c];return{l:n,t:r}}function G(t,e){for(;(t=t.parentElement)&&t!==e;);return t}function L(t){t&&t.preventDefault()}function R(e){return e===t?{w:t.innerWidth,h:t.innerHeight}:{w:e.offsetWidth,h:e.offsetHeight}}function M(t){return m||!!f(t)&&t}function $(t){m=t}function P(t,e,n){if(!f(w[t]))return k;if(f(n))f(w[t][n])&&w[t][n].apply(k,e);else for(var r in w[t])w[t][r].apply(k,e);return k}x.__instance__[n.id||n.name||h(x.__instance__)]=k,f(r)||(r=b),$(x.parse(n.getAttribute("data-color")||n.value||[0,1,1])),_.className="color-picker",_.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var T,j=_[i].children,A=M([0,1,1]),I=j[0],O=j[1],Y=I[i],D=O[i],N=0,W=0,q=0,z=0,F=0,J=0,K=0,Q=0,U=y(A);function Z(t,e){t&&"h"!==t||P("change:h",e),t&&"sv"!==t||P("change:sv",e),P("change",e)}function tt(){return _.parentNode}function et(i,o){i||((o||d).appendChild(_),k.visible=!0),K=R(_).w,Q=R(_).h;var a=R(O),s=R(D),c=R(I).h,u=a.w,f=a.h,l=R(Y).h,h=s.w,v=s.h;if(i){function x(t){var e=t.target,r=e===n||G(e,n)===n;r?et():k.exit(),P(r?"enter":"exit",[k])}_.style.left=_.style.top="-9999px",!1!==r&&V(r,n,x),k.create=function(){return et(1),P("create",[k]),k},k.destroy=function(){return!1!==r&&X(r,n,x),k.exit(),$(!1),P("destroy",[k]),k}}else nt();function m(t){g(A);var e=g([A[0],1,1]);O.style.backgroundColor="rgb("+e.join(",")+")",$(A),L(t)}function w(t){q&&(function(t){var e=p(C(I,t).y,0,c);A[0]=(c-e)/c,Y.style.top=e-l/2+"px",m(t)}(t),U=y(A),N||(P("drag:h",[U,k]),P("drag",[U,k]),Z("h",[U,k]))),z&&(function(t){var e=C(O,t),n=p(e.x,0,u),r=p(e.y,0,f);A[1]=1-(u-n)/u,A[2]=(f-r)/f,D.style.right=u-n-h/2+"px",D.style.top=r-v/2+"px",m(t)}(t),U=y(A),W||(P("drag:sv",[U,k]),P("drag",[U,k]),Z("sv",[U,k]))),N=0,W=0}function B(t){var e=t.target,i=q?"h":"sv",o=[y(A),k],a=e===n||G(e,n)===n,s=e===_||G(e,_)===_;a||s?s&&(P("stop:"+i,o),P("stop",o),Z(i,o)):tt()&&!1!==r&&(k.exit(),P("exit",[k]),Z(0,o)),q=0,z=0}function j(t){N=1,q=1,w(t),L(t),P("start:h",[U,k]),P("start",[U,k]),Z("h",[U,k])}function F(t){W=1,z=1,w(t),L(t),P("start:sv",[U,k]),P("start",[U,k]),Z("sv",[U,k])}T=function(){A=M(A),m(),Y.style.top=c-l/2-c*+A[0]+"px",D.style.right=u-h/2-u*+A[1]+"px",D.style.top=f-v/2-f*+A[2]+"px"},k.exit=function(n){return tt()&&(tt().removeChild(_),k.visible=!1),X(b,I,j),X(b,O,F),X(H,e,w),X(E,e,B),X(S,t,nt),k},T(),i||(V(b,I,j),V(b,O,F),V(H,e,w),V(E,e,B),V(S,t,nt))}function nt(){return k.fit()}return et(1),u(function(){var t=[y(A),k];P("create",t),Z(0,t)},0),k.fit=function(e){var r=R(t),i=R(v),o=i.h>r.h,a=B(t),s=(B(v),o?i.w:r.w+a.l),c=o?r.h+a.t:Math.max(i.h,r.h),u=B(n);return F=u.l,J=u.t+R(n).h,l(e)?(f(e[0])&&(F=e[0]),f(e[1])&&(J=e[1])):(F+K>s&&(F=s-K),J+Q>c&&(J=c-Q)),_.style.left=F+"px",_.style.top=J+"px",P("fit",[k]),k},k.set=function(t){return f(t)?("string"==typeof t&&(t=x.parse(t)),$(t),T(),k):M()},k.get=function(t){return M(t)},k.target=n,k.picker=_,k.visible=!1,k.on=function(t,e,n){return f(t)?f(e)?(f(w[t])||(w[t]={}),f(n)||(n=h(w[t])),w[t][n]=e,k):w[t]:w},k.off=function(t,e){return f(t)?f(e)?(delete w[t][e],k):(w[t]={},k):(w={},k)},k.trigger=P,k.hooks=w,k.enter=function(t){return et(0,t)},k}).version="1.3.5",r.__instance__={},r.each=function(t,e){return u(function(){var e,n=r.__instance__;for(e in n)t(n[e],e,n)},0===e?0:e||1),r},r.parse=function(t){if(l(t))return t;var e=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(t),n=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(t);return"#"===t[0]&&t.match(/^#([\da-f]{3}|[\da-f]{6})$/i)?m(t.slice(1)):n?_([+n[1],+n[2],+n[3]]):e?k([+e[1],+e[2],+e[3]]):[0,1,1]},r._HSV2RGB=g,r._HSV2HEX=y,r._RGB2HSV=k,r._HEX2HSV=m,r._HEX2RGB=function(t){return function(t){return[+t[0]/255,+t[1]/255,+t[2]/255]}(w(t))},r.HSV2RGB=function(t){return g(_(t))},r.HSV2HEX=function(t){return y(_(t))},r.RGB2HSV=function(t){return b(k(t))},r.RGB2HEX=x,r.HEX2HSV=function(t){return b(m(t))},r.HEX2RGB=w}(window,document);var e=CP;class n{componentDidLoad(){console.log(this.data);const t=this.data.index,n=document.getElementById("color-pick");var r=new e(n,!1,n);this.picker=r,r.picker.classList.add("static"),r.enter(n),this.color=this.data.swatch.value,r.set(this.data.swatch.value);const i=document.querySelector("app-console");r.on("change",e=>{this.colorValue(e),i.changeState(e,t)})}colorValue(t){this.color=t}handleChange(t){this.picker.set("#"+t.target.value.substring(1)),this.picker.trigger("change",[t.target.value.substring(1)])}render(){return t("div",{class:"picker-wrap"},t("div",{id:"color-pick"}),t("input",{type:"text",value:"#"+this.color,onInput:t=>this.handleChange(t)}),t("div",null,this.data.swatch.name),t("div",null,this.data.swatch.property))}static get is(){return"app-picker"}static get properties(){return{color:{state:!0},data:{type:"Any",attr:"data"},picker:{state:!0},win:{context:"window"}}}static get style(){return".color-pick{position:static}.picker .popover-content{width:203px!important}.picker-wrap{padding:15px}.color-picker-control{border:none}app-picker input{margin:5px 0;padding:5px;width:99%;background:#efefef;border:none}"}}export{n as AppPicker};